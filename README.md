# Трекер полезных привычек (Atomic Habits)

## Описание проекта
Трекер полезных привычек - это веб-приложение, вдохновленное книгой Джеймса Клира "Атомные привычки". 
Проект помогает пользователям формировать новые полезные привычки и избавляться от вредных, предоставляя
инструменты для отслеживания и напоминаний.

## Основные возможности
- Создание и управление привычками
- Настройка периодичности выполнения привычек
- Напоминания через Telegram
- Просмотр публичных привычек других пользователей
- Авторизация и управление профилем пользователя

## Установка:
1. Клонируйте репозиторий:
```https://github.com/Natalia-Epifanova/The_habits_project```
2. Установите зависимости:
```pip install -r requirements.txt```
3. Создайте и активируйте виртуальное окружение: 
- ```python -m venv venv```
- ```source venv/bin/activate```  # Linux/Mac
- ```venv\Scripts\activate```  # Windows
4. Выполнить миграции: ```python manage.py migrate```
5. Настройте переменные окружения: Создайте файл .env в корне проекта на основе .env.example
6. Создать суперпользователя: ```python manage.py csu```
7. . Запустить сервер: ```python manage.py runserver```
8. Для обработки периодических задач запустите Celery:
- ```celery -A config worker -l INFO```
- ```celery -A config beat -l INFO```

## API Endpoints
### Пользователи
- ```POST /users/register/``` - Регистрация нового пользователя
- ```POST /users/login/``` - Получение JWT токена
- ```POST /users/token/refresh/``` - Обновление JWT токена
- ```GET /users/profile/<pk>/``` - Просмотр профиля пользователя

### Привычки
- ```GET /habits/``` - Список привычек текущего пользователя
- ```GET /habits/public/``` - Список публичных привычек
- ```POST /habits/create/``` - Создание новой привычки
- ```GET /habits/<pk>/``` - Просмотр деталей привычки
- ```PUT /habits/<pk>/update/``` - Обновление привычки
- ```DELETE /habits/<pk>/delete/``` - Удаление привычки

### Периодичность
- ```GET /periodicity/``` - Список всех периодичностей
- ```POST /periodicity/``` - Создание новой периодичности
- ```GET /periodicity/<pk>/``` - Просмотр деталей периодичности
- ```PUT /periodicity/<pk>/``` - Полное обновление периодичности
- ```PATCH /periodicity/<pk>/``` - Частичное обновление периодичности
- ```DELETE /periodicity/<pk>/``` - Удаление периодичности

### Настройка Telegram бота
- Создайте бота через ```@BotFather``` и получите токен
- Укажите токен в переменной окружения ```BOT_TOKEN```
- Для получения chat_id пользователя:
1. Пользователь должен начать диалог с ботом
2. Отправить команду ```/start```
3. Chat_id будет сохранен в профиле пользователя

## Технологический стек
- Python 3.10+
- Django 4.2
- redis 6.2.0
- Django REST Framework
- Celery (для периодических задач)
- PostgreSQL (рекомендуемая СУБД)
- Telegram Bot API


## Тестирование
Проект покрыт тестами на 99%. Для запуска тестов:

```python manage.py test```

Разработано: Епифанова Наталия © 2025